# 2025-11-04 Flutter 위젯 기초

## 전체 코드

```dart
import 'package:flutter/material.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  // This widget is the root of your application.
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Flutter Demo',
      theme: ThemeData(
        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepOrange),
      ),
      home: const MyHomePage(title: '교재 실습'),
    );
  }
}

class MyHomePage extends StatefulWidget {
  const MyHomePage({super.key, required this.title});

  final String title;

  @override
  State<MyHomePage> createState() => _MyHomePageState();
}

class _MyHomePageState extends State<MyHomePage> with TickerProviderStateMixin {
  late TabController _tabController;

  bool opacity = false;
  @override
  void initState() {
    super.initState();
    _tabController = TabController(length: 3, vsync: this);
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        backgroundColor: Theme.of(context).colorScheme.inversePrimary,
        title: Text(widget.title),
      ),
      body: Center(child: createS6()),
    );
  }

  Widget createS1() {
    return Column(
      mainAxisAlignment: MainAxisAlignment.center,
      children: [
        Container(color: Colors.red, width: 100, height: 40),
        const SizedBox(height: 10),
        Container(color: Colors.blue, width: 100, height: 40),
      ],
    );
  }

  Widget createS2() {
    return ListView(
      scrollDirection: Axis.horizontal,
      children: List.generate(
        10,
        (index) => Container(
          width: 100,
          height: 100,
          margin: const EdgeInsets.all(5),
          color: Colors.red.withAlpha((index + 1) * 25),
        ),
      ),
    );
  }

  Widget createS3() {
    return PageView(
      scrollDirection: Axis.vertical,
      pageSnapping: false,
      children: [
        Container(
          color: Colors.red,
          child: const Center(
            child: Text(
              "1",
              style: TextStyle(fontSize: 50, color: Colors.white),
            ),
          ),
        ),
        Container(
          color: Colors.blue,
          child: const Center(
            child: Text(
              "2",
              style: TextStyle(fontSize: 50, color: Colors.white),
            ),
          ),
        ),
        Container(
          color: Colors.yellow,
          child: const Center(
            child: Text(
              "3",
              style: TextStyle(fontSize: 50, color: Colors.white),
            ),
          ),
        ),
      ],
    );
  }

  Widget createS4() {
    return Column(
      children: [
        Expanded(
          child: TabBarView(
            controller: _tabController,
            children: [
              Container(
                color: Colors.blue,
                child: Center(child: Text('메뉴1 페이지')),
              ),
              Container(
                color: Colors.orange,
                child: Center(child: Text('메뉴2 페이지')),
              ),
              Container(
                color: Colors.green,
                child: Center(child: Text('메뉴3 페이지')),
              ),
            ],
          ),
        ),
        TabBar(
          controller: _tabController,
          tabs: const [Text('메뉴1'), Text('메뉴2'), Text('메뉴3')],
        ),
      ],
    );
  }

  Widget createS5() {
    return Center(
      child: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          AnimatedOpacity(
            duration: const Duration(milliseconds: 1000),
            opacity: opacity ? 0.2 : 1,
            child: Container(
              width: 150,
              height: 150,
              decoration: const BoxDecoration(
                shape: BoxShape.circle,
                color: Colors.blue,
              ),
            ),
          ),
          ElevatedButton(
            onPressed: () {
              opacity = !opacity;
              setState(() {});
            },
            child: Text('투명하게'),
          ),
        ],
      ),
    );
  }

  Widget createS6() {
    return Column(
      mainAxisAlignment: MainAxisAlignment.center,
      children: [
        AnimatedContainer(
          duration: const Duration(milliseconds: 1000),
          width: opacity ? 100 : 150,
          height: opacity ? 100 : 150,
          decoration: BoxDecoration(
            shape: BoxShape.circle,
            color: opacity ? Colors.red : Colors.blue,
          ),
          onEnd: () {
            print('asdfasdf');
          },
        ),
        Center(
          child: ElevatedButton(
            onPressed: () {
              opacity = !opacity;
              setState(() {});
            },
            child: Text('변경하기'),
          ),
        ),
      ],
    );
  }
} // _MyHomePageState 클래스 닫는 중괄호
```

---

## 위젯/개념별 정리

### 1) `MaterialApp` & `ThemeData`

* 앱의 루트. `title`, `theme`, `home` 지정.
* `ColorScheme.fromSeed`는 시드 색상 기반 팔레트를 자동 생성한다.

### 2) `Scaffold` & `AppBar`

* 머티리얼 기본 골격. 상단 바, 본문, FAB 등을 쉽게 구성.
* `AppBar` 배경색을 `Theme.of(context).colorScheme.inversePrimary`로 지정.

### 3) 레이아웃 기초

* `Column`/`Row` + `mainAxisAlignment`로 정렬.
* `SizedBox`는 여백/간격 조절에 편리.

### 4) 스크롤 뷰

* **가로 리스트**: `ListView(scrollDirection: Axis.horizontal)`
* `List.generate`로 반복 위젯 생성. `withAlpha`를 활용해 투명도가 다른 컬러 박스를 생성.

### 5) 페이지 전환

* **세로 페이지**: `PageView(scrollDirection: Axis.vertical)`
* `pageSnapping: false` → 페이지에 딱 붙지 않고 부드럽게 스크롤 가능.

### 6) 탭 구성 (`TabBar` + `TabBarView`)

* `TabController(length: 3, vsync: this)` 필요 → `TickerProviderStateMixin` 사용.
* `TabBar`와 `TabBarView`에 동일한 컨트롤러를 공유.
* `Expanded`로 `TabBarView`가 남은 공간을 차지하도록 구성.

### 7) 간단 애니메이션

* **투명도**: `AnimatedOpacity(opacity: opacity ? 0.2 : 1)`
* **크기/색상**: `AnimatedContainer(width/height/color)`
* 상태 변경은 `setState(() { opacity = !opacity; })` 형태로 묶는 게 일반적이고, 본 예제처럼 토글 후 빈 `setState` 호출도 동작은 동일하다.
* `onEnd` 콜백으로 애니메이션 종료 시점을 감지할 수 있다.


## 실습 가이드: createS1~S6 살펴보기

| 메서드        | 내용               | 포인트                                                 |
| ---------- | ---------------- | --------------------------------------------------- |
| `createS1` | 단순 `Column` 레이아웃 | 위젯 배치/간격 (`SizedBox`)                               |
| `createS2` | 가로 `ListView`    | `scrollDirection`, `List.generate`, `withAlpha`     |
| `createS3` | 세로 `PageView`    | `scrollDirection`, `pageSnapping`                   |
| `createS4` | 탭 구조             | `TabController`, `TabBar`, `TabBarView`, `Expanded` |
| `createS5` | 페이드 애니메이션        | `AnimatedOpacity`, `setState` 토글                    |
| `createS6` | 크기/색상 애니메이션      | `AnimatedContainer`, `onEnd`                        |
